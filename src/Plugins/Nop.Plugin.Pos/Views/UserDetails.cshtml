@using Nop.Core;
@using Nop.Services.Customers;
@inject IWorkContext workContext
@inject ICustomerService customerService;

<style>
    .search-box input.search-box-text {
        width: auto;
    }

    a:link {
        text-decoration: none;
        color: inherit;
    }

    a:visited {
        text-decoration: none;
        color: inherit;
    }

    a:hover {
        text-decoration: none;
        color: inherit;
    }

    a:active {
        text-decoration: none;
        color: inherit;
    }

    .userdetails{
        padding: 2%;
        font-size: 16px;
        color: #777;
        font: normal 16px Arial,Helvetica,sans-serif;
    }
</style>

@*<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">*@
@{
    var UserEmail = await workContext.GetCurrentCustomerAsync();
    var role = await customerService.GetCustomerRoleIdsAsync(UserEmail);
    var adminrole = "Administrators ";
    var forummoderatorsrole = "Forum_Moderators ";
    var registeredrole = "Registered ";
    var guestsrole = "Guests ";
    var vendorsrole = "Vendors ";
    var posuserrole = "POS_User ";
}

@if (UserEmail.Username != null)
{
    <div class="row col-12">

        <div class="col-12">
            <p class="userdetails">
                Hi @UserEmail.Username you have
                @foreach (var item in role)
                {
                    if (item == 1)
                    {
                        @adminrole
                    }
                    if (item == 2)
                    {
                        @forummoderatorsrole

                    }
                    if (item == 3)
                    {
                        @registeredrole

                    }
                    if (item == 4)
                    {
                        @guestsrole

                    }
                    if (item == 5)
                    {
                        @vendorsrole

                    }
                    if (item == 6)
                    {
                        @posuserrole

                    }
                }
                access only
            </p>
        </div>
    </div>
}

